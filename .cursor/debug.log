{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"f6f8a4bb-f324-4ad9-a14e-d39d728d97e4","loading":false},"timestamp":1766565495974,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"f6f8a4bb-f324-4ad9-a14e-d39d728d97e4","loading":false},"timestamp":1766565495974,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"f6f8a4bb-f324-4ad9-a14e-d39d728d97e4","loading":false},"timestamp":1766565509841,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"f6f8a4bb-f324-4ad9-a14e-d39d728d97e4","loading":false},"timestamp":1766565509842,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766565622139,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766565622140,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565622140,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents","endpoint":"/api/incidents","method":"POST","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565622140,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents"},"timestamp":1766565622584,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565622585,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565622966,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565622968,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565622969,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/route.ts:52","message":"POST handler entry","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565622969,"sessionId":"debug-session","runId":"run1","hypothesisId":"H"}
{"location":"app/api/incidents/route.ts:56","message":"Organization ID check","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","fromUser":true},"timestamp":1766565622970,"sessionId":"debug-session","runId":"run1","hypothesisId":"H"}
{"location":"app/api/incidents/route.ts:64","message":"Parsing request body","data":{"bodyKeys":["title","service","severity","status","description"]},"timestamp":1766565622973,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"app/api/incidents/route.ts:67","message":"Validation passed, creating incident","data":{"title":"Database connection timeout","service":"checkout-db","severity":"P2"},"timestamp":1766565622976,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"lib/db/queries/incidents.ts:132","message":"Creating incident in database","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","title":"Database connection timeout","hasSupabaseUrl":true,"hasAnonKey":true},"timestamp":1766565622977,"sessionId":"debug-session","runId":"run1","hypothesisId":"K"}
{"location":"lib/db/queries/incidents.ts:173","message":"BEFORE insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","title":"Database connection timeout"},"timestamp":1766565622977,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:186","message":"AFTER insert","data":{"hasData":true,"hasError":false,"createdIncidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","createdOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565623062,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:197","message":"RETURNING created incident","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565623062,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/route.ts:70","message":"Incident created successfully","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","status":"ai-investigating"},"timestamp":1766565623145,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentIdType":"string","incidentIdLength":36},"timestamp":1766565623146,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766565623146,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","queryType":"select","table":"incidents"},"timestamp":1766565623146,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565623227,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565623228,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766565623369,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:26","message":"investigateIncident ENTRY","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90"},"timestamp":1766565623370,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/ai/investigation-service.ts:34","message":"BEFORE IncidentService.getById","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90"},"timestamp":1766565623372,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentIdType":"string","incidentIdLength":36},"timestamp":1766565623372,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766565623372,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","queryType":"select","table":"incidents"},"timestamp":1766565623372,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":201,"statusText":"Created","ok":true},"timestamp":1766565623375,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565623606,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565623607,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766565623750,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:38","message":"AFTER IncidentService.getById","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","foundIncident":true,"incidentTitle":"Database connection timeout","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565623751,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:57","message":"BEFORE status update","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","currentStatus":"ai-investigating"},"timestamp":1766565623751,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","loading":false},"timestamp":1766565623805,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentDataType":"object","hasIncidentData":false},"timestamp":1766565623805,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","loading":false},"timestamp":1766565623805,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentDataType":"object","hasIncidentData":false},"timestamp":1766565623805,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/f5c1218f-7dad-47ae-ab46-a8c27aab0b90"},"timestamp":1766565623807,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766565623807,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766565623807,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565623807,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/f5c1218f-7dad-47ae-ab46-a8c27aab0b90","endpoint":"/api/incidents/f5c1218f-7dad-47ae-ab46-a8c27aab0b90","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565623807,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/f5c1218f-7dad-47ae-ab46-a8c27aab0b90"},"timestamp":1766565623807,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766565623807,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766565623807,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565623807,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/f5c1218f-7dad-47ae-ab46-a8c27aab0b90","endpoint":"/api/incidents/f5c1218f-7dad-47ae-ab46-a8c27aab0b90","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565623808,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/f5c1218f-7dad-47ae-ab46-a8c27aab0b90"},"timestamp":1766565624042,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565624042,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565624127,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565624127,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565624127,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766565624127,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565624128,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentIdType":"string","incidentIdLength":36},"timestamp":1766565624128,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766565624128,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","queryType":"select","table":"incidents"},"timestamp":1766565624129,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565624201,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565624202,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766565624334,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90"},"timestamp":1766565624335,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766565624335,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565624335,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766565624337,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766565624337,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766565624337,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766565624337,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","loading":false},"timestamp":1766565624337,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","loading":false},"timestamp":1766565624338,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/f5c1218f-7dad-47ae-ab46-a8c27aab0b90"},"timestamp":1766565624348,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565624349,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565624421,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565624421,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565624421,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766565624421,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565624422,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentIdType":"string","incidentIdLength":36},"timestamp":1766565624422,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766565624422,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","queryType":"select","table":"incidents"},"timestamp":1766565624422,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565624496,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565624496,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766565624641,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90"},"timestamp":1766565624642,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766565624642,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565624642,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766565624644,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766565624644,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766565624644,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766565624644,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","loading":false},"timestamp":1766565624644,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"f5c1218f-7dad-47ae-ab46-a8c27aab0b90","loading":false},"timestamp":1766565624644,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766565920855,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766565920856,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565920856,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents","endpoint":"/api/incidents","method":"POST","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565920856,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents"},"timestamp":1766565921399,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565921401,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565922323,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565922324,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565922324,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/route.ts:52","message":"POST handler entry","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565922325,"sessionId":"debug-session","runId":"run1","hypothesisId":"H"}
{"location":"app/api/incidents/route.ts:56","message":"Organization ID check","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","fromUser":true},"timestamp":1766565922326,"sessionId":"debug-session","runId":"run1","hypothesisId":"H"}
{"location":"app/api/incidents/route.ts:64","message":"Parsing request body","data":{"bodyKeys":["title","service","severity","status","description"]},"timestamp":1766565922329,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"app/api/incidents/route.ts:67","message":"Validation passed, creating incident","data":{"title":"Database connection timeout","service":"checkout-db","severity":"P2"},"timestamp":1766565922333,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"lib/db/queries/incidents.ts:132","message":"Creating incident in database","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","title":"Database connection timeout","hasSupabaseUrl":true,"hasAnonKey":true},"timestamp":1766565922334,"sessionId":"debug-session","runId":"run1","hypothesisId":"K"}
{"location":"lib/db/queries/incidents.ts:173","message":"BEFORE insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","title":"Database connection timeout"},"timestamp":1766565922335,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:186","message":"AFTER insert","data":{"hasData":true,"hasError":false,"createdIncidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","createdOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565922759,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:197","message":"RETURNING created incident","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565922760,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/route.ts:70","message":"Incident created successfully","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","status":"ai-investigating"},"timestamp":1766565923063,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentIdType":"string","incidentIdLength":36},"timestamp":1766565923066,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766565923067,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","queryType":"select","table":"incidents"},"timestamp":1766565923068,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565923346,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565923347,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766565923839,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:26","message":"investigateIncident ENTRY","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565923840,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/ai/investigation-service.ts:34","message":"BEFORE IncidentService.getById","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565923842,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentIdType":"string","incidentIdLength":36},"timestamp":1766565923842,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766565923842,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","queryType":"select","table":"incidents"},"timestamp":1766565923843,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":201,"statusText":"Created","ok":true},"timestamp":1766565923845,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565924078,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565924079,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","loading":false},"timestamp":1766565924269,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentDataType":"object","hasIncidentData":false},"timestamp":1766565924269,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","loading":false},"timestamp":1766565924269,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentDataType":"object","hasIncidentData":false},"timestamp":1766565924269,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565924270,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766565924270,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766565924271,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565924271,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/bf5f63f7-ae00-4829-a05d-23f68a481efa","endpoint":"/api/incidents/bf5f63f7-ae00-4829-a05d-23f68a481efa","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565924271,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565924271,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766565924271,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766565924271,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565924271,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/bf5f63f7-ae00-4829-a05d-23f68a481efa","endpoint":"/api/incidents/bf5f63f7-ae00-4829-a05d-23f68a481efa","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565924271,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766565924388,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:38","message":"AFTER IncidentService.getById","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","foundIncident":true,"incidentTitle":"Database connection timeout","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565924388,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:57","message":"BEFORE status update","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","currentStatus":"ai-investigating"},"timestamp":1766565924388,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565924505,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565924505,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:63","message":"AFTER status update","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565924536,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:66","message":"BEFORE addTimelineEvent","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565924536,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565924683,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565924684,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565924684,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766565924685,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565924685,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentIdType":"string","incidentIdLength":36},"timestamp":1766565924686,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766565924686,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","queryType":"select","table":"incidents"},"timestamp":1766565924686,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/ai/investigation-service.ts:73","message":"AFTER addTimelineEvent","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565924699,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:76","message":"BEFORE createAIActivity","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","organizationId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565924701,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:239","message":"createAIActivity ENTRY","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating","activityTitle":"Investigating Database connection timeout","hasIncidentId":true},"timestamp":1766565924702,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:252","message":"BEFORE ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating"},"timestamp":1766565924704,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565924771,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565924772,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:263","message":"AFTER ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","hasError":true,"errorMessage":"Invalid API key"},"timestamp":1766565924779,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:266","message":"createAIActivity error","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","errorMessage":"Invalid API key"},"timestamp":1766565924779,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766565924902,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565924903,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766565924903,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565924904,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766565924907,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766565924907,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766565924908,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766565924908,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","loading":false},"timestamp":1766565924908,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","loading":false},"timestamp":1766565924909,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565924926,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565924926,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565925017,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565925017,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766565925017,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766565925017,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565925018,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentIdType":"string","incidentIdLength":36},"timestamp":1766565925018,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766565925018,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","queryType":"select","table":"incidents"},"timestamp":1766565925018,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565925089,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766565925089,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766565925254,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"bf5f63f7-ae00-4829-a05d-23f68a481efa"},"timestamp":1766565925254,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766565925255,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766565925255,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766565925257,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766565925257,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766565925257,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766565925257,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","loading":false},"timestamp":1766565925258,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"bf5f63f7-ae00-4829-a05d-23f68a481efa","loading":false},"timestamp":1766565925258,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566352771,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566352771,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566352771,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents","endpoint":"/api/incidents","method":"POST","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566352772,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents"},"timestamp":1766566353027,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566353029,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566353977,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566353978,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566353978,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/route.ts:52","message":"POST handler entry","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566353979,"sessionId":"debug-session","runId":"run1","hypothesisId":"H"}
{"location":"app/api/incidents/route.ts:56","message":"Organization ID check","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","fromUser":true},"timestamp":1766566353980,"sessionId":"debug-session","runId":"run1","hypothesisId":"H"}
{"location":"app/api/incidents/route.ts:64","message":"Parsing request body","data":{"bodyKeys":["title","service","severity","status","description"]},"timestamp":1766566353982,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"app/api/incidents/route.ts:67","message":"Validation passed, creating incident","data":{"title":"Database connection timeout","service":"checkout-db","severity":"P2"},"timestamp":1766566353985,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"lib/db/queries/incidents.ts:132","message":"Creating incident in database","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","title":"Database connection timeout","hasSupabaseUrl":true,"hasAnonKey":true},"timestamp":1766566353987,"sessionId":"debug-session","runId":"run1","hypothesisId":"K"}
{"location":"lib/db/queries/incidents.ts:173","message":"BEFORE insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","title":"Database connection timeout"},"timestamp":1766566353987,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:186","message":"AFTER insert","data":{"hasData":true,"hasError":false,"createdIncidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","createdOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566354277,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:197","message":"RETURNING created incident","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566354277,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/route.ts:70","message":"Incident created successfully","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","status":"ai-investigating"},"timestamp":1766566354363,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566354365,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566354366,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","queryType":"select","table":"incidents"},"timestamp":1766566354367,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566354440,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566354440,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566354637,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:26","message":"investigateIncident ENTRY","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566354639,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/ai/investigation-service.ts:34","message":"BEFORE IncidentService.getById","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566354639,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566354639,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566354640,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","queryType":"select","table":"incidents"},"timestamp":1766566354640,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":201,"statusText":"Created","ok":true},"timestamp":1766566354642,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566354900,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566354901,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"04c7ec49-200d-4b30-8377-9a06447e426a","loading":false},"timestamp":1766566355004,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566355004,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"04c7ec49-200d-4b30-8377-9a06447e426a","loading":false},"timestamp":1766566355004,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566355004,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566355006,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566355006,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566355006,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566355006,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/04c7ec49-200d-4b30-8377-9a06447e426a","endpoint":"/api/incidents/04c7ec49-200d-4b30-8377-9a06447e426a","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566355006,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566355006,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566355006,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566355006,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566355006,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/04c7ec49-200d-4b30-8377-9a06447e426a","endpoint":"/api/incidents/04c7ec49-200d-4b30-8377-9a06447e426a","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566355006,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566355060,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:38","message":"AFTER IncidentService.getById","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","foundIncident":true,"incidentTitle":"Database connection timeout","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566355061,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:57","message":"BEFORE status update","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","currentStatus":"ai-investigating"},"timestamp":1766566355061,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:63","message":"AFTER status update","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566355150,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:66","message":"BEFORE addTimelineEvent","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566355150,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566355232,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566355232,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:73","message":"AFTER addTimelineEvent","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566355236,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:76","message":"BEFORE createAIActivity","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","organizationId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566355236,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:239","message":"createAIActivity ENTRY","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating","activityTitle":"Investigating Database connection timeout","hasIncidentId":true},"timestamp":1766566355237,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:252","message":"BEFORE ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating"},"timestamp":1766566355237,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:263","message":"AFTER ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","hasError":false},"timestamp":1766566355362,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:85","message":"AFTER createAIActivity","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566355362,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:64","message":"BEFORE gatherInvestigationData","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","service":"checkout-db"},"timestamp":1766566355363,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566355367,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566355368,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566355368,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566355368,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566355368,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566355369,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566355369,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","queryType":"select","table":"incidents"},"timestamp":1766566355369,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566355430,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566355430,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:138","message":"Investigation error caught","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","errorName":"Error","errorMessage":"Failed to fetch integrations: Invalid API key","errorStack":"Error: Failed to fetch integrations: Invalid API key\n    at getIntegrations (webpack-internal:///(rsc)/./lib/db/queries/integrations.ts:19:15)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async gatherInvestigationData (webpack-internal:///(rsc)/./lib/ai/data-gatherer.ts:17:26)\n    at async investigateIncident (webpack-internal:///(rsc)/./lib/ai/investigation-service.ts:264:35)"},"timestamp":1766566355464,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566355627,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566355628,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566355628,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566355628,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566355630,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566355630,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566355630,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566355630,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"04c7ec49-200d-4b30-8377-9a06447e426a","loading":false},"timestamp":1766566355630,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"04c7ec49-200d-4b30-8377-9a06447e426a","loading":false},"timestamp":1766566355631,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566355641,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566355641,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566355710,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566355710,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566355710,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566355710,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566355711,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566355711,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566355711,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","queryType":"select","table":"incidents"},"timestamp":1766566355711,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566355784,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566355784,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566355972,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"04c7ec49-200d-4b30-8377-9a06447e426a"},"timestamp":1766566355973,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566355974,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"04c7ec49-200d-4b30-8377-9a06447e426a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566355974,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566355977,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566355977,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566355977,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566355977,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"04c7ec49-200d-4b30-8377-9a06447e426a","loading":false},"timestamp":1766566355978,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"04c7ec49-200d-4b30-8377-9a06447e426a","loading":false},"timestamp":1766566355978,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566534274,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566534275,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566534275,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents","endpoint":"/api/incidents","method":"POST","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566534275,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents"},"timestamp":1766566534516,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566534518,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566534860,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566534861,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566534862,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/route.ts:52","message":"POST handler entry","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566534864,"sessionId":"debug-session","runId":"run1","hypothesisId":"H"}
{"location":"app/api/incidents/route.ts:56","message":"Organization ID check","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","fromUser":true},"timestamp":1766566534865,"sessionId":"debug-session","runId":"run1","hypothesisId":"H"}
{"location":"app/api/incidents/route.ts:64","message":"Parsing request body","data":{"bodyKeys":["title","service","severity","status","description"]},"timestamp":1766566534869,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"app/api/incidents/route.ts:67","message":"Validation passed, creating incident","data":{"title":"Database connection timeout","service":"checkout-db","severity":"P2"},"timestamp":1766566534874,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"lib/db/queries/incidents.ts:132","message":"Creating incident in database","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","title":"Database connection timeout","hasSupabaseUrl":true,"hasAnonKey":true},"timestamp":1766566534875,"sessionId":"debug-session","runId":"run1","hypothesisId":"K"}
{"location":"lib/db/queries/incidents.ts:173","message":"BEFORE insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","title":"Database connection timeout"},"timestamp":1766566534876,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:186","message":"AFTER insert","data":{"hasData":true,"hasError":false,"createdIncidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","createdOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566534993,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:197","message":"RETURNING created incident","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566534994,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/route.ts:70","message":"Incident created successfully","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","status":"ai-investigating"},"timestamp":1766566535082,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566535083,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566535083,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","queryType":"select","table":"incidents"},"timestamp":1766566535083,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566535158,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566535159,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566535308,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:26","message":"investigateIncident ENTRY","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566535309,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/ai/investigation-service.ts:34","message":"BEFORE IncidentService.getById","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566535309,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566535310,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566535310,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","queryType":"select","table":"incidents"},"timestamp":1766566535311,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":201,"statusText":"Created","ok":true},"timestamp":1766566535315,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566535464,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566535465,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566535606,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:38","message":"AFTER IncidentService.getById","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","foundIncident":true,"incidentTitle":"Database connection timeout","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566535606,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:57","message":"BEFORE status update","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","currentStatus":"ai-investigating"},"timestamp":1766566535606,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:63","message":"AFTER status update","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566535692,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:66","message":"BEFORE addTimelineEvent","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566535694,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","loading":false},"timestamp":1766566535714,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566535714,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","loading":false},"timestamp":1766566535714,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566535715,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566535716,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566535716,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566535716,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566535716,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","endpoint":"/api/incidents/2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566535716,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566535717,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566535717,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566535717,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566535717,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","endpoint":"/api/incidents/2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566535717,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/ai/investigation-service.ts:73","message":"AFTER addTimelineEvent","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566535782,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:76","message":"BEFORE createAIActivity","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","organizationId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566535782,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:239","message":"createAIActivity ENTRY","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating","activityTitle":"Investigating Database connection timeout","hasIncidentId":true},"timestamp":1766566535783,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:252","message":"BEFORE ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating"},"timestamp":1766566535783,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:263","message":"AFTER ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","hasError":false},"timestamp":1766566535880,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:85","message":"AFTER createAIActivity","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566535880,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:64","message":"BEFORE gatherInvestigationData","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","service":"checkout-db"},"timestamp":1766566535880,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566535960,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566535960,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:76","message":"AFTER gatherInvestigationData","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","logsCount":40,"metricsKeys":["cpu_usage","memory_usage","error_rate","request_rate","p95_latency","connection_pool_utilization","connection_timeout_rate","active_connections","max_connections"],"recentDeploymentsCount":2},"timestamp":1766566535963,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:80","message":"BEFORE generateHypotheses","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentTitle":"Database connection timeout"},"timestamp":1766566535963,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:32","message":"BEFORE LLMClient creation","data":{"incidentTitle":"Database connection timeout"},"timestamp":1766566535964,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/llm-client.ts:27","message":"LLMClient constructor ENTRY","data":{"hasOpenAIKey":true,"hasAnthropicKey":false,"hasOpenAIBaseURL":false},"timestamp":1766566535964,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/llm-client.ts:32","message":"Using OpenAI provider","data":{"hasBaseURL":false},"timestamp":1766566535964,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:36","message":"AFTER LLMClient creation","data":{"incidentTitle":"Database connection timeout","provider":"openai"},"timestamp":1766566535964,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:48","message":"BEFORE LLM API call","data":{"incidentTitle":"Database connection timeout","promptLength":4794},"timestamp":1766566535964,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/llm-client.ts:62","message":"BEFORE OpenAI API call","data":{"model":"gpt-4-turbo-preview","url":"https://api.openai.com/v1/chat/completions","messageCount":2,"hasApiKey":true},"timestamp":1766566535964,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566536034,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566536035,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566536035,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566536035,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566536035,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566536035,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566536035,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","queryType":"select","table":"incidents"},"timestamp":1766566536036,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566536118,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566536118,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566536264,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566536264,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566536265,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566536265,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566536267,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566536268,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566536268,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566536268,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","loading":false},"timestamp":1766566536268,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","loading":false},"timestamp":1766566536269,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566536282,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566536282,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566536352,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566536352,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566536352,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566536352,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566536352,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566536352,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566536353,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","queryType":"select","table":"incidents"},"timestamp":1766566536353,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566536417,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566536417,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566536625,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171"},"timestamp":1766566536625,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566536625,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566536625,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566536627,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566536627,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566536628,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566536628,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","loading":false},"timestamp":1766566536628,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","loading":false},"timestamp":1766566536628,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/ai/llm-client.ts:88","message":"AFTER OpenAI API call","data":{"responseOk":true,"responseStatus":200,"responseStatusText":"OK"},"timestamp":1766566550380,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/llm-client.ts:99","message":"OpenAI API success","data":{"hasContent":true,"contentLength":3848,"hasUsage":true},"timestamp":1766566550385,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:62","message":"AFTER LLM API call","data":{"incidentTitle":"Database connection timeout","responseLength":3848,"hasUsage":true},"timestamp":1766566550385,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:67","message":"BEFORE parsing JSON","data":{"incidentTitle":"Database connection timeout","responseSnippet":"```json\n{\n  \"hypotheses\": [\n    {\n      \"title\": \"Exhausted Connection Pool\",\n      \"confidence\": 95,\n      \"evidence\": [\n        \"Consistent warnings about connection pool being exhausted\",\n        \""},"timestamp":1766566550386,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:85","message":"JSON parse error","data":{"incidentTitle":"Database connection timeout","errorName":"SyntaxError","errorMessage":"Unexpected token '`', \"```json\n{\n\"... is not valid JSON","responseSnippet":"```json\n{\n  \"hypotheses\": [\n    {\n      \"title\": \"Exhausted Connection Pool\",\n      \"confidence\": 95,\n      \"evidence\": [\n        \"Consistent warnings about connection pool being exhausted\",\n        \"High connection pool utilization at 98%\",\n        \"Active connections nearing max capacity with 950 out of 1000\",\n        \"Repeated connection timeout errors following warnings of exhausted connection pool\",\n        \"The issue persists over a prolonged period, indicating sustained high demand or ina"},"timestamp":1766566550386,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/investigation-service.ts:92","message":"AFTER generateHypotheses","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","hypothesesCount":1},"timestamp":1766566550388,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/investigation-service.ts:95","message":"BEFORE storing hypotheses","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","hypothesesToStore":1},"timestamp":1766566550389,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:100","message":"BEFORE addHypothesis","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","hypothesisTitle":"Root cause analysis in progress","hypothesisConfidence":50},"timestamp":1766566550389,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:108","message":"AFTER addHypothesis","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","storedHypothesisId":"b3d5ea6a-547a-454d-b81d-b73c5276f74e","storedTitle":"Root cause analysis in progress"},"timestamp":1766566550596,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:119","message":"AFTER storing all hypotheses","data":{"incidentId":"2fb4c8f9-352b-43ee-a1fa-a9f96a65c171","storedCount":1},"timestamp":1766566550597,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:239","message":"createAIActivity ENTRY","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating","activityTitle":"Investigation complete: Database connection timeout","hasIncidentId":true},"timestamp":1766566550598,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:252","message":"BEFORE ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating"},"timestamp":1766566550599,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:263","message":"AFTER ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","hasError":false},"timestamp":1766566550691,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"INC-001","loading":false},"timestamp":1766566651005,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"INC-001","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566651005,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"INC-001","loading":false},"timestamp":1766566651005,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"INC-001","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566651005,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/INC-001"},"timestamp":1766566651007,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566651007,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566651007,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566651007,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/INC-001","endpoint":"/api/incidents/INC-001","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566651007,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/INC-001"},"timestamp":1766566651007,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566651007,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566651007,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566651007,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/INC-001","endpoint":"/api/incidents/INC-001","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566651007,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/INC-001"},"timestamp":1766566651222,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566651222,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566651683,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566651683,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566651683,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"INC-001","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566651684,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"INC-001","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566651684,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"INC-001","incidentIdType":"string","incidentIdLength":7},"timestamp":1766566651684,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566651685,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"INC-001","queryType":"select","table":"incidents"},"timestamp":1766566651686,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":false,"hasError":true,"errorCode":"22P02","errorMessage":"invalid input syntax for type uuid: \"INC-001\"","errorDetails":null,"errorHint":null},"timestamp":1766566651796,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:106","message":"Database error occurred","data":{"incidentId":"INC-001","errorCode":"22P02","errorMessage":"invalid input syntax for type uuid: \"INC-001\"","isPGRST116":false},"timestamp":1766566651796,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:118","message":"RETURNING null - database error","data":{"incidentId":"INC-001","errorCode":"22P02"},"timestamp":1766566651796,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":false,"requestedId":"INC-001"},"timestamp":1766566651797,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:32","message":"RETURNING 404 - incident not found","data":{"incidentId":"INC-001","userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566651797,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":404,"statusText":"Not Found","ok":false},"timestamp":1766566651799,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":false,"hasData":false,"hasError":true},"timestamp":1766566651799,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":false,"hasData":false,"hasError":true,"errorMessage":"Incident not found"},"timestamp":1766566651799,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:47","message":"SETTING error state from ApiResponse","data":{"errorMessage":"Incident not found"},"timestamp":1766566651799,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":true,"error":"Incident not found","hasIncidentData":false,"paramsId":"INC-001","loading":false},"timestamp":1766566651800,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:97","message":"RETURNING error component","data":{"error":"Incident not found","paramsId":"INC-001"},"timestamp":1766566651800,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":true,"error":"Incident not found","hasIncidentData":false,"paramsId":"INC-001","loading":false},"timestamp":1766566651800,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:97","message":"RETURNING error component","data":{"error":"Incident not found","paramsId":"INC-001"},"timestamp":1766566651800,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/INC-001"},"timestamp":1766566651810,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566651810,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566651886,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566651886,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566651886,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"INC-001","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566651887,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"INC-001","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566651887,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"INC-001","incidentIdType":"string","incidentIdLength":7},"timestamp":1766566651887,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566651887,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"INC-001","queryType":"select","table":"incidents"},"timestamp":1766566651887,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":false,"hasError":true,"errorCode":"22P02","errorMessage":"invalid input syntax for type uuid: \"INC-001\"","errorDetails":null,"errorHint":null},"timestamp":1766566651974,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:106","message":"Database error occurred","data":{"incidentId":"INC-001","errorCode":"22P02","errorMessage":"invalid input syntax for type uuid: \"INC-001\"","isPGRST116":false},"timestamp":1766566651974,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:118","message":"RETURNING null - database error","data":{"incidentId":"INC-001","errorCode":"22P02"},"timestamp":1766566651974,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":false,"requestedId":"INC-001"},"timestamp":1766566651974,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:32","message":"RETURNING 404 - incident not found","data":{"incidentId":"INC-001","userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566651974,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":404,"statusText":"Not Found","ok":false},"timestamp":1766566651975,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":false,"hasData":false,"hasError":true},"timestamp":1766566651975,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":false,"hasData":false,"hasError":true,"errorMessage":"Incident not found"},"timestamp":1766566651976,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:47","message":"SETTING error state from ApiResponse","data":{"errorMessage":"Incident not found"},"timestamp":1766566651976,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":true,"error":"Incident not found","hasIncidentData":false,"paramsId":"INC-001","loading":false},"timestamp":1766566651976,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:97","message":"RETURNING error component","data":{"error":"Incident not found","paramsId":"INC-001"},"timestamp":1766566651976,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":true,"error":"Incident not found","hasIncidentData":false,"paramsId":"INC-001","loading":false},"timestamp":1766566651976,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:97","message":"RETURNING error component","data":{"error":"Incident not found","paramsId":"INC-001"},"timestamp":1766566651976,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566744671,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566744671,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566744671,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents","endpoint":"/api/incidents","method":"POST","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566744671,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents"},"timestamp":1766566744978,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566744980,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566745236,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566745237,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566745237,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/route.ts:52","message":"POST handler entry","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566745238,"sessionId":"debug-session","runId":"run1","hypothesisId":"H"}
{"location":"app/api/incidents/route.ts:56","message":"Organization ID check","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","fromUser":true},"timestamp":1766566745238,"sessionId":"debug-session","runId":"run1","hypothesisId":"H"}
{"location":"app/api/incidents/route.ts:64","message":"Parsing request body","data":{"bodyKeys":["title","service","severity","status","description"]},"timestamp":1766566745241,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"app/api/incidents/route.ts:67","message":"Validation passed, creating incident","data":{"title":"Database connection timeout","service":"checkout-db","severity":"P2"},"timestamp":1766566745243,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"lib/db/queries/incidents.ts:132","message":"Creating incident in database","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","title":"Database connection timeout","hasSupabaseUrl":true,"hasAnonKey":true},"timestamp":1766566745244,"sessionId":"debug-session","runId":"run1","hypothesisId":"K"}
{"location":"lib/db/queries/incidents.ts:173","message":"BEFORE insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","title":"Database connection timeout"},"timestamp":1766566745244,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:186","message":"AFTER insert","data":{"hasData":true,"hasError":false,"createdIncidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","createdOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566745346,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:197","message":"RETURNING created incident","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566745347,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/route.ts:70","message":"Incident created successfully","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","status":"ai-investigating"},"timestamp":1766566745448,"sessionId":"debug-session","runId":"run1","hypothesisId":"I"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566745449,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566745449,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566745449,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566745543,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566745543,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566745717,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:26","message":"investigateIncident ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566745718,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/ai/investigation-service.ts:34","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566745718,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566745718,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566745719,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566745720,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":201,"statusText":"Created","ok":true},"timestamp":1766566745722,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566745915,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566745916,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566746084,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:38","message":"AFTER IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","foundIncident":true,"incidentTitle":"Database connection timeout","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566746085,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/ai/investigation-service.ts:57","message":"BEFORE status update","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","currentStatus":"ai-investigating"},"timestamp":1766566746085,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566746110,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566746111,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566746111,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566746111,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566746112,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566746113,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566746113,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566746113,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566746113,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566746113,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566746113,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566746113,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566746113,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566746113,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/ai/investigation-service.ts:63","message":"AFTER status update","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566746170,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:66","message":"BEFORE addTimelineEvent","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566746170,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:73","message":"AFTER addTimelineEvent","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566746256,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:76","message":"BEFORE createAIActivity","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","organizationId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566746256,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:239","message":"createAIActivity ENTRY","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating","activityTitle":"Investigating Database connection timeout","hasIncidentId":true},"timestamp":1766566746256,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:252","message":"BEFORE ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating"},"timestamp":1766566746257,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:263","message":"AFTER ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","hasError":false},"timestamp":1766566746342,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:85","message":"AFTER createAIActivity","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566746342,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:64","message":"BEFORE gatherInvestigationData","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","service":"checkout-db"},"timestamp":1766566746342,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566746349,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566746349,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:76","message":"AFTER gatherInvestigationData","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","logsCount":40,"metricsKeys":["cpu_usage","memory_usage","error_rate","request_rate","p95_latency","connection_pool_utilization","connection_timeout_rate","active_connections","max_connections"],"recentDeploymentsCount":2},"timestamp":1766566746423,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:80","message":"BEFORE generateHypotheses","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentTitle":"Database connection timeout"},"timestamp":1766566746424,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:32","message":"BEFORE LLMClient creation","data":{"incidentTitle":"Database connection timeout"},"timestamp":1766566746424,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/llm-client.ts:27","message":"LLMClient constructor ENTRY","data":{"hasOpenAIKey":true,"hasAnthropicKey":false,"hasOpenAIBaseURL":false},"timestamp":1766566746424,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/llm-client.ts:32","message":"Using OpenAI provider","data":{"hasBaseURL":false},"timestamp":1766566746424,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:36","message":"AFTER LLMClient creation","data":{"incidentTitle":"Database connection timeout","provider":"openai"},"timestamp":1766566746424,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:48","message":"BEFORE LLM API call","data":{"incidentTitle":"Database connection timeout","promptLength":4794},"timestamp":1766566746424,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/llm-client.ts:62","message":"BEFORE OpenAI API call","data":{"model":"gpt-4-turbo-preview","url":"https://api.openai.com/v1/chat/completions","messageCount":2,"hasApiKey":true},"timestamp":1766566746425,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566746434,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566746434,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566746434,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566746434,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566746435,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566746435,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566746435,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566746435,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566746515,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566746515,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566746673,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566746673,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566746674,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566746674,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566746677,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566746678,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566746678,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566746678,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566746679,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566746680,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566746692,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566746692,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566746770,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566746771,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566746771,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566746771,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566746771,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566746771,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566746771,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566746772,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566746862,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566746862,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":false},"timestamp":1766566747021,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566747022,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566747022,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566747022,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566747023,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566747024,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566747024,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566747024,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566747024,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566747024,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/ai/llm-client.ts:88","message":"AFTER OpenAI API call","data":{"responseOk":true,"responseStatus":200,"responseStatusText":"OK"},"timestamp":1766566759891,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/llm-client.ts:99","message":"OpenAI API success","data":{"hasContent":true,"contentLength":3042,"hasUsage":true},"timestamp":1766566759894,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:62","message":"AFTER LLM API call","data":{"incidentTitle":"Database connection timeout","responseLength":3042,"hasUsage":true},"timestamp":1766566759895,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:67","message":"BEFORE parsing JSON","data":{"incidentTitle":"Database connection timeout","responseSnippet":"```json\n{\n  \"hypotheses\": [\n    {\n      \"title\": \"Connection Pool Exhaustion\",\n      \"confidence\": 90,\n      \"evidence\": [\n        \"Repeated logs indicating 'Connection pool exhausted, waiting for ava"},"timestamp":1766566759895,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:71","message":"AFTER parsing JSON","data":{"incidentTitle":"Database connection timeout","hasHypotheses":true,"isArray":true,"count":3},"timestamp":1766566759896,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/hypothesis-generator.ts:78","message":"RETURNING parsed hypotheses","data":{"incidentTitle":"Database connection timeout","count":3},"timestamp":1766566759897,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/investigation-service.ts:92","message":"AFTER generateHypotheses","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","hypothesesCount":3},"timestamp":1766566759899,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/ai/investigation-service.ts:95","message":"BEFORE storing hypotheses","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","hypothesesToStore":3},"timestamp":1766566759899,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:100","message":"BEFORE addHypothesis","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","hypothesisTitle":"Connection Pool Exhaustion","hypothesisConfidence":90},"timestamp":1766566759899,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:108","message":"AFTER addHypothesis","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","storedHypothesisId":"840a3b0a-9bbf-401f-b986-c545e4f62034","storedTitle":"Connection Pool Exhaustion"},"timestamp":1766566760155,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:100","message":"BEFORE addHypothesis","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","hypothesisTitle":"Insufficient Database Resources for Handling Load","hypothesisConfidence":70},"timestamp":1766566760156,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:108","message":"AFTER addHypothesis","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","storedHypothesisId":"3ebcb0a9-9f8c-452f-a863-e4b4121c8a67","storedTitle":"Insufficient Database Resources for Handling Load"},"timestamp":1766566760241,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:100","message":"BEFORE addHypothesis","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","hypothesisTitle":"Suboptimal Configuration Settings After Recent Updates","hypothesisConfidence":80},"timestamp":1766566760243,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:108","message":"AFTER addHypothesis","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","storedHypothesisId":"3971dfff-b4d0-4038-a856-487f42bc98dd","storedTitle":"Suboptimal Configuration Settings After Recent Updates"},"timestamp":1766566760327,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:119","message":"AFTER storing all hypotheses","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","storedCount":3},"timestamp":1766566760328,"sessionId":"debug-session","runId":"run1","hypothesisId":"G"}
{"location":"lib/ai/investigation-service.ts:239","message":"createAIActivity ENTRY","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating","activityTitle":"Investigation complete: Database connection timeout","hasIncidentId":true},"timestamp":1766566760329,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:252","message":"BEFORE ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","activityType":"investigating"},"timestamp":1766566760331,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/ai/investigation-service.ts:263","message":"AFTER ai_activities insert","data":{"organizationId":"865470e7-d902-4ae1-b486-22f3410b184a","hasError":false},"timestamp":1766566760406,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566862232,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566862233,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566862233,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566862233,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566862239,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566862239,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566862239,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566862239,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566862239,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566862240,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566862240,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566862240,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566862240,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566862240,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566862267,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566862267,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566862477,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566862477,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566862478,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566862478,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566862478,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566862478,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566862479,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566862479,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566862584,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566862584,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766566862767,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566862767,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566862768,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566862768,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566862771,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566862771,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566862771,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566862771,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566862772,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566862773,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566862790,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566862791,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566862908,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566862908,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566862908,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566862908,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566862909,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566862909,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566862909,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566862909,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566862981,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566862981,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766566863219,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566863220,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566863220,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566863220,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566863223,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566863225,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566863225,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566863225,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566863226,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566863226,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566893127,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566893128,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566893128,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566893128,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566893128,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566893128,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566893128,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566893129,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566893129,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566893129,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566893129,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566893129,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566893129,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566893129,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566893481,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566893482,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566893662,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566893663,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566893664,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566893665,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566893665,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566893665,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566893666,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566893666,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566893832,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566893833,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766566894002,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566894002,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566894002,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566894002,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566894004,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566894004,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566894004,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566894004,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566894005,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566894005,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566894030,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566894030,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566894146,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566894147,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566894147,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566894148,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566894148,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566894148,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566894152,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566894153,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566894242,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566894242,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766566894436,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566894437,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566894437,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566894437,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566894439,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566894439,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566894439,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566894439,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566894439,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566894440,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566904277,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566904277,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566904278,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566904279,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566904279,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566904279,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566904279,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566904674,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566904675,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566904920,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566904920,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566904921,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566904921,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566904921,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566904921,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566904922,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566904923,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566905001,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566905002,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766566905172,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566905173,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566905173,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566905173,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566905176,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566905176,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566905176,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566905176,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566905177,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566905177,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566924408,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566924414,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566924415,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566924416,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566924416,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566924416,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566924416,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566924771,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566924772,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566925105,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566925105,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566925105,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566925106,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566925106,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566925106,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566925107,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566925107,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566925195,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566925195,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766566925364,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566925365,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566925365,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566925366,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566925368,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566925369,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566925369,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566925369,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566925369,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566925369,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566933256,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566933257,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566933258,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566933258,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566933258,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566933258,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566933258,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566933431,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566933431,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566933633,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566933633,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566933634,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566933634,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566933636,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566933636,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566933638,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566933639,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566933721,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566933721,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766566933885,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566933886,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566933886,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566933886,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566933888,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566933889,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566933889,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566933889,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566933889,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566933890,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566961319,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566961320,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566961326,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566961326,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":false,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566961320,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:101","message":"RETURNING not found component","data":{"incidentData":null,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentDataType":"object","hasIncidentData":false},"timestamp":1766566961320,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566961325,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566961327,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566961326,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566961326,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566961326,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766566961326,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766566961326,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566961327,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566961661,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566961661,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566961882,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566961883,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566961883,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566961883,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566961883,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566961884,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566961884,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566961885,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566961968,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566961969,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766566962118,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566962118,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566962119,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566962119,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566962123,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566962123,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566962123,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566962124,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566962124,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566962125,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566962154,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566962154,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566962228,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566962228,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766566962229,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766566962229,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566962230,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766566962231,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766566962233,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766566962234,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566962303,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766566962305,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766566962456,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766566962457,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766566962457,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766566962458,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766566962461,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766566962461,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766566962461,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766566962461,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566962461,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566962462,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566972171,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766566972172,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:60","message":"handleTriggerInvestigation ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567001362,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/dashboard/incidents/[id]/page.tsx:64","message":"BEFORE fetch investigate API","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff/investigate"},"timestamp":1766567001364,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567001365,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567001366,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":false,"mockUserId":null,"mockUserEmail":null,"path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff/investigate"},"timestamp":1766567001867,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:139","message":"Trying real Supabase Auth","data":{},"timestamp":1766567001867,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/auth/middleware.ts:145","message":"requireUser failed","data":{"error":"Error: Unauthorized"},"timestamp":1766567001870,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"app/dashboard/incidents/[id]/page.tsx:70","message":"AFTER fetch investigate API","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","responseOk":false,"responseStatus":401,"responseStatusText":"Unauthorized"},"timestamp":1766567001871,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"app/dashboard/incidents/[id]/page.tsx:74","message":"Investigation API returned error","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","error":{"error":"Unauthorized"},"responseStatus":401},"timestamp":1766567001872,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":false},"timestamp":1766567001870,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/auth/middleware.ts:152","message":"Returning 401 - no user","data":{"devMode":true,"hasMockUserId":false,"hasMockUserEmail":false},"timestamp":1766567001870,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567004451,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567004452,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567040723,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567040725,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567040726,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567040726,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567040725,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766567040726,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766567040726,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567040808,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567040808,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567041106,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567041106,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567041106,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766567041106,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567041107,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766567041107,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766567041107,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766567041107,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766567041194,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766567041194,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766567041373,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567041374,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766567041375,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567041376,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766567041384,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766567041386,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766567041386,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766567041386,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567041387,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567041387,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567048443,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567048443,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567706194,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567706199,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567714498,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567714500,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766567714501,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766567714501,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567714501,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567714501,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567714501,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567714819,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567714819,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567715871,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567715872,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567715873,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766567715873,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567715874,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766567715874,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766567715875,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766567715876,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766567716888,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766567716889,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766567717274,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567717275,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766567717275,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567717275,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766567717284,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766567717290,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766567717291,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766567717291,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567717299,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567717300,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567719957,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567719958,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567725450,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567725451,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567725459,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766567725459,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766567725460,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567725460,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567725460,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567725698,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567725698,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567725964,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567725976,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567725976,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766567725977,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567725978,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766567725979,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766567725979,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766567725980,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766567726150,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766567726151,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766567726309,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567726309,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766567726310,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567726310,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766567726311,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766567726312,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766567726312,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766567726312,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567726312,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567726312,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567731443,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567731445,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"lib/api/client.ts:176","message":"API client GET called","data":{"endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567731447,"sessionId":"debug-session","runId":"run1","hypothesisId":"N"}
{"location":"lib/api/client.ts:40","message":"Reading auth-storage from localStorage","data":{"hasAuthStorage":true,"authStorageLength":120},"timestamp":1766567731447,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:47","message":"Parsed auth data","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com","userId":"user-1766541065745","isAuthenticated":true},"timestamp":1766567731447,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:52","message":"Setting mock auth headers","data":{"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567731447,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/api/client.ts:85","message":"Making API request","data":{"url":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","endpoint":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","method":"GET","hasMockHeaders":true,"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567731447,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/auth/middleware.ts:43","message":"withAuth middleware entry","data":{"devMode":true,"hasMockUserId":true,"mockUserId":"user-1766541065745","mockUserEmail":"amitabh.das1998@gmail.com","path":"/api/incidents/cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567731683,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/auth/middleware.ts:49","message":"Using mock auth path","data":{"mockUserEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567731683,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:59","message":"User lookup result","data":{"foundUser":true,"userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567731900,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:63","message":"Using database user","data":{"userId":"02651116-5017-466a-999d-77e46bc31135","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567731900,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"lib/auth/middleware.ts:149","message":"Final user check","data":{"hasUser":true,"userEmail":"amitabh.das1998@gmail.com"},"timestamp":1766567731900,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/api/incidents/[id]/route.ts:11","message":"GET handler ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userId":"02651116-5017-466a-999d-77e46bc31135","userEmail":"amitabh.das1998@gmail.com","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentIdType":"string"},"timestamp":1766567731900,"sessionId":"debug-session","runId":"run1","hypothesisId":"D"}
{"location":"app/api/incidents/[id]/route.ts:20","message":"BEFORE IncidentService.getById","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567731901,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:84","message":"getIncidentById ENTRY","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentIdType":"string","incidentIdLength":36},"timestamp":1766567731901,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:88","message":"Creating service client","data":{"hasSupabaseUrl":true,"hasServiceKey":true},"timestamp":1766567731901,"sessionId":"debug-session","runId":"run1","hypothesisId":"E"}
{"location":"lib/db/queries/incidents.ts:92","message":"BEFORE database query","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","queryType":"select","table":"incidents"},"timestamp":1766567731902,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/db/queries/incidents.ts:100","message":"AFTER database query","data":{"foundIncident":true,"hasError":false,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766567731989,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"lib/db/queries/incidents.ts:130","message":"Incident found - fetching relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout"},"timestamp":1766567731989,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/db/queries/incidents.ts:150","message":"RETURNING incident with relations","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","hasTimelineEvents":true,"hasHypotheses":true},"timestamp":1766567732150,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:24","message":"AFTER IncidentService.getById","data":{"foundIncident":true,"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentTitle":"Database connection timeout","requestedId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff"},"timestamp":1766567732151,"sessionId":"debug-session","runId":"run1","hypothesisId":"A"}
{"location":"app/api/incidents/[id]/route.ts:50","message":"Organization check","data":{"userOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a","match":true,"userOrgIdType":"string","incidentOrgIdType":"string"},"timestamp":1766567732151,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"app/api/incidents/[id]/route.ts:70","message":"RETURNING 200 - success","data":{"incidentId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","incidentOrgId":"865470e7-d902-4ae1-b486-22f3410b184a"},"timestamp":1766567732152,"sessionId":"debug-session","runId":"run1","hypothesisId":"C"}
{"location":"lib/api/client.ts:55","message":"API response received","data":{"status":200,"statusText":"OK","ok":true},"timestamp":1766567732156,"sessionId":"debug-session","runId":"run1","hypothesisId":"B"}
{"location":"lib/hooks/useAsync.ts:34","message":"useAsync result received","data":{"hasResult":true,"resultType":"object","hasSuccess":true,"success":true,"hasData":true,"hasError":false},"timestamp":1766567732157,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:40","message":"Processing ApiResponse","data":{"success":true,"hasData":true,"hasError":false},"timestamp":1766567732157,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"lib/hooks/useAsync.ts:43","message":"SETTING success state","data":{"hasData":true},"timestamp":1766567732158,"sessionId":"debug-session","runId":"run1","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567732158,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567732159,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567834641,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567834642,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567838728,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567838729,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567845124,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567845125,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567854355,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567854358,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567854385,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
{"location":"app/dashboard/incidents/[id]/page.tsx:94","message":"Rendering check","data":{"hasError":false,"error":null,"hasIncidentData":true,"paramsId":"cea1e03e-1e93-4045-bc6b-8b6e23d1e0ff","loading":false},"timestamp":1766567854386,"sessionId":"debug-session","runId":"post-fix","hypothesisId":"F"}
